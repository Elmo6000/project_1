# 專題-裁切模擬機換刀系統
**※透過C#撰寫的機台程式碼屬於實驗室財產無法開源**

該專題與機械系合作，他們針對既有的機台增設了刀庫模組，而我負責實現該換刀系統的功能並將其整併回既有的機台程式。

若用時序圖的概念說明，該系統會牽涉到三個物件，機台/刀庫、PC、PLC。
* **機台/刀庫**: 該機台是由滾珠螺桿帶動的裁切模擬機台，後來新增了刀庫希望能讓該機台透過自動換刀裁切兩種物件。
* **PC**: 我們的機台是PC-based，也就是基於PC控制機台的軸卡。
* **PLC**: 刀庫上的感測器會將訊號儲存於PLC的暫存器，也負責刀庫上的夾爪與氣壓缸控制。
  
# 換刀系統的控制介面
控制介面共有五個功能
* **刀庫復位**: 使刀庫位置回到位於上層也就是進主刀的高度。
* **進主刀**: 確認刀庫位置為上層並將主刀從刀庫推入沖頭，控制介面的右半部會呈現如中間的圖並將進主刀與進副刀按鈕disabled。
* **進副刀**: 確認刀庫位置為下層並將副刀從刀庫推入沖頭，控制介面的右半部會呈現如右邊的圖並將進主刀與進副刀按鈕disabled。
* **換刀**: 若沖頭上沒有刀該按鈕會是disabled，反之則會與刀庫中的刀對換。
* **退刀**: 將沖頭上的刀退回刀庫內。
![image](https://user-images.githubusercontent.com/88305396/151932676-3656d6fd-fcb8-47e3-9ec5-71ede9c41a9e.png)
  
# 各換刀功能流程圖
![刀庫復位](https://user-images.githubusercontent.com/88305396/152029704-05aca64f-a12d-45ca-8e0c-e21f07215d51.png)
![主刀副刀](https://user-images.githubusercontent.com/88305396/152031561-99571bdb-ad6b-4f71-852e-fa3502ab7106.png)
![換刀退刀](https://user-images.githubusercontent.com/88305396/152031578-ce9f64ae-7dd4-41ff-8fc7-7ab494fd6d9b.png)
  
# 自動換刀裁切展示
透過排版檔標記物件的刀號(主刀或副刀)，當下個要裁切物件的刀號與沖頭不符時就會進行相對應的功能。

影片的最開始我們可以看到沖頭上沒有刀，並且排版檔顯示先裁三角形(主刀)再裁梅花(副刀)，所以會先執行進主刀，待三角形裁切完畢會進行換刀，然後完成剩餘的裁切。


https://user-images.githubusercontent.com/88305396/152046846-36f19185-3100-462c-b1b5-e33e532a3fbb.mp4

